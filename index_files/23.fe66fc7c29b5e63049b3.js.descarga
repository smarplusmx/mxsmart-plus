(function(){var P=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[23],{ln0a:function(M,i,u){"use strict";u.r(i),u.d(i,"countWidgetTypes",function(){return d}),u.d(i,"countButtonTypes",function(){return p}),u.d(i,"collectWidgetCount",function(){return S});var h=u("yXPU"),l=u.n(h);const c="[data-widget-type], [data-element-type]";function d(){const t=document.querySelectorAll(c),n=Array.from(t).reduce(y({generateFeatureKey:e=>`widget-${g(e)}`}),{});return Object.values(n)}function p(){const t=document.querySelectorAll(c),n=Array.from(t).filter(f).reduce(y({generateFeatureKey:e=>`${C(e)}-${g(e)}`}),{});return Object.values(n)}function b(){const t=document.querySelectorAll('[data-element-type="mapextension"][provider="mappy"][data-radius-toggle="true"]');return t.length?[{feature:"maps-mappy-radius",count:t.length}]:[]}function v(){const t=document.querySelectorAll('[data-element-type="html"]'),n=["acuityscheduling","tidycal","Calendly","simplybookme","fareharbor","bookalet","bookeo"];return Array.from(t).find(r=>n.some(o=>r.innerHTML.toLowerCase().includes(o)))?[{feature:"booking-script",count:1}]:[]}function T(){const t=document.querySelectorAll(c),n=["book","appointment","schedule"];return Array.from(t).filter(f).find(r=>n.some(o=>r.innerHTML.toLowerCase().includes(o)))?[{feature:"booking-text",count:1}]:[]}function S(){return a.apply(this,arguments)}function a(){return a=l()(function*(){var t,n;if(!((t=window.rtCommonProps)!==null&&t!==void 0&&t["scripts.widgetCount.enabled"]))return;let e=d();e=e.concat(b()),e=e.concat(p()),e=e.concat(v()),e=e.concat(T());const{_currentPage:r,Parameters:o}=window,W={features:e,siteAlias:o==null?void 0:o.SiteAlias,sitePublicationDate:o!=null&&o.PublicationDate?new Date(o==null?void 0:o.PublicationDate).getTime():0,pageType:o==null?void 0:o.pageType,pageUuid:(r==null||(n=r.pageContent)===null||n===void 0?void 0:n.uuid)||(o==null?void 0:o.InitialPageUuid)||`${r==null?void 0:r.pageID}`,path:location.pathname};A(W)}),a.apply(this,arguments)}function A(t){return s.apply(this,arguments)}function s(){return s=l()(function*(t){try{var n;const e=(n=window.rtCommonProps)===null||n===void 0?void 0:n["runtimecollector.url"];if(!e)return;yield fetch(`${e}/feature/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)})}catch(e){console.debug("Failed send metrics for feature count",e)}}),s.apply(this,arguments)}function y({generateFeatureKey:t}){return(n,e)=>{const r=t(e);return n[r]||(n[r]={feature:r,count:0}),n[r].count+=1,n}}const f=t=>{const n=t.classList.contains("dmWidget")&&m(t),e=Array.from(t.querySelectorAll(".dmWidget")).some(r=>m(r));return n||e};function m(t){return window.getComputedStyle(t).getPropertyValue("display")!=="none"}function C(t){return t.classList.contains("button_2")||t.querySelector(".button_2")?"button-secondary":"button-primary"}const g=t=>{const n=t.getAttribute("data-widget-type")||t.getAttribute("data-element-type"),e=t.getAttribute("data-widget-id");return e?`${n}-${e}`:n}}}])})();
